(this["webpackJsonpesla-frontend"]=this["webpackJsonpesla-frontend"]||[]).push([[0],{27:function(e,t,a){e.exports=a(41)},32:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),s=(a(32),a(1)),i=a(2),c=a(4),u=a(3),m=a(5),d=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome to ESLA!"),r.a.createElement("p",null,"ESLA is a database of European sign languages based on grammatical properties."))}}]),t}(n.Component),h=a(6),p=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={features:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/features").then((function(e){return e.json()})).then((function(t){e.setState({features:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.features.length>0?r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Domain"))),r.a.createElement("tbody",null,this.state.features.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(h.b,{to:"/features/".concat(e.id)},e.name)),r.a.createElement("td",null,e.domain))}))))):r.a.createElement("p",null,"Oops! No features here.")}}]),t}(n.Component),f=a(16),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showExamples:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(h.b,{to:"/languages/".concat(this.props.datapoint.language.iso)},this.props.datapoint.language.name)),r.a.createElement("td",null,this.props.datapoint.value),r.a.createElement("td",null,"".concat(this.props.datapoint.user_id)===window.localStorage.getItem("id")?r.a.createElement("button",{class:"btn btn-info",onClick:function(){return e.props.setEdit(e.props.datapoint)}},"Edit this datapoint"):null))}}]),t}(n.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){console.log("datapointslist has been updated!"),console.log(this.props.datapoints)}},{key:"render",value:function(){var e=this;return this.props.datapoints.length>0?r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,this.props.datapoints.map((function(t){return r.a.createElement(g,{datapoint:t,setEdit:e.props.setEdit})}))))):r.a.createElement("p",null,"Oops, no data yet.")}}]),t}(n.Component),w=a(15),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).drawBarChart=function(e){var t=45*Object.values(e).length-5;w.b("div.canvas > *").remove();var n=w.a(a.refs.canvas).append("svg").attr("width",t).attr("height",400).style("border","1px solid black"),r=Object.values(e);n.selectAll("rect").data(r).enter().append("rect").attr("width",40).attr("height",(function(e){return 20*e})).attr("fill","#d4f0fc").attr("x",(function(e,t){return 45*t})).attr("y",(function(e){return 400-20*e})),n.selectAll("text.class").data(Object.values(e)).enter().append("text").attr("class","value").attr("x",(function(e,t){return 45*t+15})).attr("y",(function(e,t){return 400-20*e/2+5})).text((function(e){return e})),n.selectAll("text.label").data(Object.keys(e)).enter().append("text").attr("class","label").style("font-size","10px").attr("x",(function(e,t){return 45*t})).attr("y",(function(t,a){return 400-20*Object.values(e)[a]-10*t.length/7})).text((function(e){return e})).call((function(e,t){e.each((function(){for(var e,a=w.a(this),n=a.text().split(/\s+/).reverse(),r=[],o=0,l=a.attr("x"),s=a.attr("y"),i=a.text(null).append("tspan").attr("x",l).attr("y",s).attr("dy","0em");e=n.pop();)r.push(e),i.text(r.join(" ")),i.node().getComputedTextLength()>t&&(r.pop(),i.text(r.join(" ")),r=[e],i=a.append("tspan").attr("x",l).attr("y",s).attr("dy",1.1*++o+0+"em").text(e))}))}),45)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.drawBarChart(this.props.data)}},{key:"render",value:function(){return r.a.createElement("div",{ref:"canvas",className:"canvas"})}}]),t}(n.Component),b=a(12),j=a.n(b),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"legend"},r.a.createElement("tr",null,r.a.createElement("th",null,"Colour"),r.a.createElement("th",null,"Value")),Object.keys(this.props.vals).map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,e.props.vals[t]))})))}}]),t}(n.Component),C={width:"600px",height:"400px"},O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderMap=function(){console.log("map rendering"),document.getElementById("mapContainer").innerHTML="";var e=new j.a.Map({container:a.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[15,54],zoom:2.4});fetch("http://localhost:3000/datapoints/for_feature/".concat(a.props.feature.id,"/geojson")).then((function(e){return e.json()})).then((function(t){console.log(t),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Disc_Plain_purple.svg/10px-Disc_Plain_purple.svg.png",(function(t,a){e.addImage("purple",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Disc_Plain_blue.svg/10px-Disc_Plain_blue.svg.png",(function(t,a){e.addImage("blue",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Disc_Plain_cyan.svg/10px-Disc_Plain_cyan.svg.png",(function(t,a){e.addImage("cyan",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Disc_Plain_green_dark.svg/10px-Disc_Plain_green_dark.svg.png",(function(t,a){e.addImage("green",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Disc_Plain_yellow.svg/10px-Disc_Plain_yellow.svg.png",(function(t,a){e.addImage("yellow",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Disc_Plain_orange.svg/10px-Disc_Plain_orange.svg.png",(function(t,a){e.addImage("orange",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Disc_Plain_red.svg/10px-Disc_Plain_red.svg.png",(function(t,a){e.addImage("red",a)})),e.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Disc_Plain_black.svg/10px-Disc_Plain_black.svg.png",(function(t,a){e.addImage("black",a)})),e.addLayer(t)})).catch((function(e){return console.log(e)}))},a.state={vals:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/datapoints/for_feature/".concat(this.props.feature.id,"/geojson")).then((function(e){return e.json()})).then((function(t){e.setState({vals:t.values})}))}},{key:"componentDidUpdate",value:function(){this.renderMap()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer center",style:C,id:"mapContainer"}),r.a.createElement(y,{vals:this.state.vals}))}}]),t}(n.Component),S=a(9),k="http://localhost:3000/datapoints",N=function(e){return"http://localhost:3000/datapoints/".concat(e)},F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t={language_id:a.state.language_id,value:a.state.value,feature_id:a.props.featureID,user_id:window.localStorage.getItem("id")};e.preventDefault();var n={method:a.props.method,headers:{"content-type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))},body:JSON.stringify(t)},r=a.props.currentlyEdited?N(a.props.currentlyEdited.id):k;fetch(r,n).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("error")||(console.log("a response has been successfully obtained"),a.props.handleData(e),a.props.hideForm())})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){e.persist(),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.state={language_id:a.props.currentlyEdited?a.props.currentlyEdited.language_id:"",value:a.props.currentlyEdited?a.props.currentlyEdited.value:"",values:[],languages:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;fetch("http://localhost:3000/languages").then((function(e){return e.json()})).then((function(e){t.setState({languages:e})})).catch((function(e){return console.log(e)})),fetch((e=this.props.featureID,"http://localhost:3000/features/".concat(e,"/values"))).then((function(e){return e.json()})).then((function(e){t.setState({values:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this;return this.state.values.length>0&&this.state.languages.length>0?r.a.createElement("div",null,r.a.createElement("h2",null,this.props.currentlyEdited?"Editing value ".concat(this.props.currentlyEdited.value," for ").concat(this.props.currentlyEdited.language.name):"Adding new datapoint"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"language_id"},"Language"),r.a.createElement("select",{name:"language_id",className:"col-6",id:"language_id",onChange:function(t){return e.handleChange(t)},value:this.state.language_id},r.a.createElement("option",{value:""}),this.state.languages.map((function(e){return r.a.createElement("option",{value:e.id},e.name)})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"value"},"Value"),r.a.createElement("select",{name:"value",className:"col-6",id:"value",onChange:function(t){return e.handleChange(t)},value:this.state.value},r.a.createElement("option",{value:""}),this.state.values.map((function(e){return r.a.createElement("option",{value:e},e)})))),r.a.createElement("div",{className:"addDataBtn"},r.a.createElement("input",{type:"submit",class:"btn btn-info",value:"Submit datapoint"})))):r.a.createElement("p",null,"Oops, no form.")}}]),t}(n.Component),_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).countData=function(e){var t={},a=!0,n=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var s=o.value;t.hasOwnProperty(s.value)?t[s.value]++:t[s.value]=1}}catch(i){n=!0,r=i}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return t},e.setEdit=function(t){e.setState({showEditForm:!0,currentlyEdited:t})},e.addDataPoint=function(t){e.setState({datapoints:[].concat(Object(f.a)(e.state.datapoints),[t])}),console.log("datapoint has been added")},e.editDataPoint=function(t){var a=Object(f.a)(e.state.datapoints),n=a.findIndex((function(e){return e.id===t.id}));a[n]=t,e.setState({datapoints:Object(f.a)(a)})},e.supplyData=function(t){e.setState({datapoints:t}),console.log("data has been supplied")},e.showNewForm=function(){e.setState({showNewForm:!e.state.showNewForm})},e.hideNewForm=function(){e.setState({showForm:!1})},e.showEditForm=function(){e.setState({showEditForm:!0})},e.hideEditForm=function(){e.setState({showEditForm:!1})},e.state={feature:{},datapoints:[],showNewForm:!1,showEditForm:!1,currentlyEdited:{},error:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;fetch((e=window.location.pathname.split("/features/")[1],"http://localhost:3000/features/".concat(e))).then((function(e){return e.json()})).then((function(e){t.setState({feature:e})})).catch((function(e){t.setState({error:"Feature not found."})})),console.log(this.state),fetch(function(e){return"http://localhost:3000/datapoints/for_feature/".concat(e)}(window.location.pathname.split("/features/")[1])).then((function(e){return e.json()})).then((function(e){t.setState({datapoints:e})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this;return 0===Object.keys(this.state.feature).length?r.a.createElement("h1",null,this.state.error):r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,this.state.feature.name),r.a.createElement("div",{className:"row"},r.a.createElement(O,{feature:this.state.feature,datapoints:this.state.datapoints}),r.a.createElement(v,{data:this.countData(this.state.datapoints)})),r.a.createElement(E,{feature:window.location.pathname.split("/features/")[1],datapoints:this.state.datapoints,supplyData:this.supplyData,setEdit:this.setEdit}),window.localStorage.getItem("token")?r.a.createElement("div",{className:"addDataBtn"},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return e.showNewForm()}},this.state.showNewForm?"Hide form":"Add new datapoint")):null,this.state.showNewForm?r.a.createElement(F,{featureID:this.state.feature.id,handleData:this.addDataPoint,hideForm:this.hideNewForm,method:"POST"}):null,this.state.showEditForm?r.a.createElement(F,{featureID:this.state.feature.id,handleData:this.editDataPoint,currentlyEdited:this.state.currentlyEdited,hideForm:this.hideEditForm,method:"PATCH"}):null)}}]),t}(n.Component),D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={languages:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/languages").then((function(e){return e.json()})).then((function(t){e.setState({languages:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.languages.length>0?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"ISO 639-3 code"))),r.a.createElement("tbody",null,this.state.languages.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(h.b,{to:"/languages/".concat(e.iso)},e.name)),r.a.createElement("td",null,e.iso))})))):r.a.createElement("p",null,"Oops! No languages here.")}}]),t}(n.Component),I={width:"600px",height:"400px",margin:"auto"},x=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new j.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[17.8624636,56.1371241],zoom:2});fetch("http://localhost:3000/languages/".concat(this.props.language.iso,"/geojson")).then((function(e){return e.json()})).then((function(a){console.log(e.props.language.iso),console.log(a),t.loadImage("https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/Disc_Plain_black.svg/10px-Disc_Plain_black.svg.png",(function(e,a){t.addImage("black",a)})),t.addLayer(a)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer",style:I})))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showExamples:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(h.b,{to:"/features/".concat(this.props.datapoint.feature.id)},this.props.datapoint.feature.name)),r.a.createElement("td",null,this.props.datapoint.value))}}]),t}(n.Component),A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={datapoints:[],showForm:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;fetch((e=this.props.language.id,"http://localhost:3000/datapoints/for_language/".concat(e))).then((function(e){return e.json()})).then((function(e){t.setState({datapoints:e})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.datapoints.length>0?r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,this.state.datapoints.map((function(e){return r.a.createElement(P,{datapoint:e})}))))):r.a.createElement("p",null,"Oops, no data yet.")}}]),t}(n.Component),U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={language:{},datapoints:[],error:"oops"},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;fetch((e=window.location.pathname.split("/languages/")[1],"http://localhost:3000/languages/".concat(e))).then((function(e){return e.json()})).then((function(e){t.setState({language:e})})).catch((function(e){return t.setState({error:"Feature not found."})}))}},{key:"render",value:function(){return 0===Object.keys(this.state.language).length?r.a.createElement("h1",null,this.state.error):r.a.createElement("div",null,r.a.createElement("h1",null,this.state.language.name),r.a.createElement("h2",null,"ISO 639-3 code ",this.state.language.iso),r.a.createElement(x,{language:this.state.language}),r.a.createElement(A,{language:this.state.language}))}}]),t}(n.Component),L="http://localhost:3000/users",M={method:"POST",headers:{"content-type":"application/json",accept:"application/json"}},B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){t.persist(),e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.state.password===e.state.password_confirmation?(M.body=JSON.stringify(e.state),fetch(L,M).then((function(e){return e.json()})).then((function(t){t.hasOwnProperty("error")?e.setState({error:t.error}):window.location.assign("http://localhost:3001/login")})).catch((function(e){return console.log(e)}))):e.setState({error:"Password and password confirmation don't match."})},e.state={username:"",email:"",password:"",password_confirmation:"",affiliation:"",age:"",error:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"narrowUserForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.username,placeholder:"Username"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"E-mail"),r.a.createElement("input",{type:"text",name:"email",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.email,placeholder:"E-mail"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Affiliation"),r.a.createElement("input",{type:"text",name:"affiliation",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.affiliation,placeholder:"Affiliation"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Age"),r.a.createElement("input",{type:"number",name:"age",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.age,placeholder:"Age"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.password,placeholder:"Password"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Password confirmation"),r.a.createElement("input",{type:"password",name:"password_confirmation",className:"col-6",placeholder:"Password confirmation",value:this.state.password_confirmation,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"signupBtn"},r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Sign up"}))),r.a.createElement("ul",null,this.state.error.length>0?r.a.createElement("p",null,this.state.error):null))}}]),t}(n.Component),H="http://localhost:3000/login",J={method:"POST",headers:{"content-type":"application/json",accept:"application/json"}},T=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){t.persist(),e.setState(Object(S.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),J.body=JSON.stringify(e.state),fetch(H,J).then((function(e){return e.json()})).then((function(t){t.hasOwnProperty("error")?e.setState({error:t.error}):(window.localStorage.setItem("token",t.jwt),window.localStorage.setItem("username",t.user.username),window.localStorage.setItem("id","".concat(t.user.id)),window.location.assign("http://localhost:3001"))})).then((function(e){return console.log(e)}))},e.state={username:"",password:"",error:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"narrowUserForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.username,placeholder:"Username"})),r.a.createElement("div",{className:"form-group narrowUserForm row"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"col-6",onChange:function(t){return e.handleChange(t)},value:this.state.password,placeholder:"Password"})),r.a.createElement("div",{className:"loginBtn"},r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Log in"}))),r.a.createElement("ul",null,this.state.error.length>0?r.a.createElement("p",null,this.state.error):null))}}]),t}(n.Component),z=function(e){return"http://localhost:3000/users/".concat(e)},W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={method:"PATCH",headers:{"content-type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))},body:JSON.stringify(a.state)};fetch(z(a.props.user.id),t).then((function(e){return e.json()})).then((function(e){a.props.updateUser({username:e.username,email:e.email,affiliation:e.affiliation}),a.props.hideUserForm()})).catch((function(e){return console.log(e)}))},a.state={username:a.props.user.username,email:a.props.user.email,affiliation:a.props.user.affiliation},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"userForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",className:"col-6",id:"username",onChange:function(t){return e.handleChange(t)},value:this.state.username})),r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"email"},"E-mail address"),r.a.createElement("input",{type:"text",name:"email",className:"col-6",id:"email",onChange:function(t){return e.handleChange(t)},value:this.state.email})),r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"affiliation"},"Affiliation"),r.a.createElement("input",{type:"text",name:"affiliation",className:"col-6",id:"affiliation",onChange:function(t){return e.handleChange(t)},value:this.state.affiliation})),r.a.createElement("div",{className:"editUserBtn"},r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Edit"}))))}}]),t}(n.Component),V=function(e){return"http://localhost:3000/users/".concat(e,"/update_password")},Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.persist(),a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={method:"PATCH",headers:{"content-type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("token"))},body:JSON.stringify(a.state)};a.state.new_password===a.state.new_password_confirmation?fetch(V(a.props.user.id),t).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("error")?a.setState({error:e.error}):(window.localStorage.removeItem("token"),window.localStorage.removeItem("username"),window.localStorage.removeItem("id"),window.location.assign("http://localhost:3001/login"))})).catch((function(e){return console.log(e)})):a.setState({error:"Password and password confirmation don't match."})},a.state={password:"",new_password:"",new_password_confirmation:"",error:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"userForm",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",className:"col-6",id:"password",onChange:function(t){return e.handleChange(t)},value:this.state.password})),r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"new_password"},"New password"),r.a.createElement("input",{type:"password",name:"new_password",className:"col-6",id:"new_password",onChange:function(t){return e.handleChange(t)},value:this.state.new_password})),r.a.createElement("div",{className:"form-group userForm row"},r.a.createElement("label",{htmlFor:"new_password_confirmation"},"Confirm new password"),r.a.createElement("input",{type:"password",name:"new_password_confirmation",className:"col-6",id:"new_password_confirmationn",onChange:function(t){return e.handleChange(t)},value:this.state.new_password_confirmation})),r.a.createElement("div",{className:"editUserBtn"},r.a.createElement("input",{type:"submit",className:"btn btn-info",value:"Change password"}))),this.state.error.length>0?r.a.createElement("p",null,this.state.error):null)}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleUserForm=function(){a.setState({showUserForm:!a.state.showUserForm})},a.togglePasswordForm=function(){a.setState({showPasswordForm:!a.state.showPasswordForm})},a.hideUserForm=function(){a.setState({showUserForm:!1})},a.hidePasswordForm=function(){a.setState({showPasswordForm:!1})},a.updateUser=function(e){a.setState(e)},a.state={username:"",email:"",affiliation:"",age:"",id:window.location.pathname.split("/users/")[1],showUserForm:!1,showPasswordForm:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;fetch((e=window.location.pathname.split("/users/")[1],"http://localhost:3000/users/".concat(e))).then((function(e){return e.json()})).then((function(e){t.setState(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"userInfo"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Username"),r.a.createElement("td",null,this.state.username)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email"),r.a.createElement("td",null,this.state.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Affiliation"),r.a.createElement("td",null,this.state.affiliation)))),r.a.createElement("br",null),window.localStorage.getItem("id")==="".concat(window.location.pathname.split("/users/")[1])?r.a.createElement("div",{className:"editUserBtn"},r.a.createElement("button",{className:"btn btn-info",onClick:this.toggleUserForm},this.state.showUserForm?"Hide form":"Edit information"),r.a.createElement("div",{className:"divider"}),r.a.createElement("button",{id:"changePassword",className:"btn btn-info",onClick:this.togglePasswordForm},this.state.showPasswordForm?"Hide form":"Change password")):null,this.state.showUserForm?r.a.createElement(W,{hideUserForm:this.hideUserForm,updateUser:this.updateUser,user:this.state}):null,this.state.showPasswordForm?r.a.createElement(Z,{hidePasswordForm:this.hidePasswordForm,user:this.state}):null)}}]),t}(n.Component),X=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleLogout=function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("username"),window.localStorage.removeItem("id"),e.setState({username:""})},e.activeAtMount=function(){window.location.pathname.includes("features")?e.setState({featureClass:"active"}):window.location.pathname.includes("languages")?e.setState({languageClass:"active"}):window.location.pathname.includes("signup")?e.setState({signupClass:"active"}):window.location.pathname.includes("login")?e.setState({loginClass:"active"}):window.location.pathname.includes("users")?e.setState({userClass:"active"}):e.setState({homeClass:"active"})},e.setHomeActive=function(){e.setState({homeClass:"active",featureClass:"",languageClass:"",signupClass:"",loginClass:"",userClass:""})},e.setFeaturesActive=function(){e.setState({homeClass:"",featureClass:"active",languageClass:"",signupClass:"",loginClass:"",userClass:""})},e.setLanguagesActive=function(){e.setState({homeClass:"",featureClass:"",languageClass:"active",signupClass:"",loginClass:"",userClass:""})},e.setSignupActive=function(){e.setState({homeClass:"",featureClass:"",languageClass:"",signupClass:"active",loginClass:"",userClass:""})},e.setLoginActive=function(){e.setState({homeClass:"",featureClass:"",languageClass:"",signupClass:"",loginClass:"active",userClass:""})},e.setUserActive=function(){e.setState({homeClass:"",featureClass:"",languageClass:"",signupClass:"",loginClass:"",userClass:"active"})},e.state={username:window.localStorage.getItem("username")?window.localStorage.getItem("username"):"",homeClass:"",featureClass:"",languageClass:"",signupClass:"",loginClass:"",userClass:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.activeAtMount()}},{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",{onClick:this.setHomeActive,className:this.state.homeClass},r.a.createElement(h.b,{to:"/ESLA-frontend/"},"Home")),r.a.createElement("li",{onClick:this.setFeaturesActive,className:this.state.featureClass},r.a.createElement(h.b,{to:"/ESLA-frontend/features"},"Features")),r.a.createElement("li",{onClick:this.setLanguagesActive,className:this.state.languageClass},r.a.createElement(h.b,{to:"/languages"},"Languages")),window.localStorage.getItem("token")?null:r.a.createElement("li",{onClick:this.setSignupActive,className:this.state.signupClass,id:"signup"},r.a.createElement(h.b,{to:"/signup"},"Sign up")),window.localStorage.getItem("token")?null:r.a.createElement("li",{onClick:this.setLoginActive,className:this.state.loginClass,id:"login"},r.a.createElement(h.b,{to:"/login"},"Log in")),window.localStorage.getItem("token")?r.a.createElement("li",{onClick:this.setUserActive,className:this.state.userClass},r.a.createElement(h.b,{to:"/users/".concat(window.localStorage.getItem("id"))},this.state.username)):null,window.localStorage.getItem("token")?r.a.createElement("li",{onClick:this.setHomeActive,id:"logout"},r.a.createElement(h.b,{onClick:this.handleLogout,to:"/"},"Log out")):null))}}]),t}(n.Component),Y=a(11);var $=function(){return r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(Y.c,null,r.a.createElement(Y.a,{exact:!0,path:"/ESLA-frontend/"},r.a.createElement(d,null)),r.a.createElement(Y.a,{exact:!0,path:"/ESLA-frontend/features"},r.a.createElement(p,null)),r.a.createElement(Y.a,{path:"/ESLA-frontend/features"},r.a.createElement(_,null)),r.a.createElement(Y.a,{exact:!0,path:"/ESLA-frontend/languages"},r.a.createElement(D,null)),r.a.createElement(Y.a,{path:"/ESLA-frontend/languages"},r.a.createElement(U,null)),r.a.createElement(Y.a,{exact:!0,path:"/ESLA-frontend/signup"},r.a.createElement(B,null)),r.a.createElement(Y.a,{exact:!0,path:"/ESLA-frontend/login"},r.a.createElement(T,null)),r.a.createElement(Y.a,null,window.localStorage.getItem("token")?r.a.createElement(R,null):null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));j.a.accessToken="pk.eyJ1IjoiYW5hbmFyaSIsImEiOiJjazJua2xhMDIwMnptM2J0NnZlN2ZhcDRsIn0.Hic6kBWBCa8kNTNPX54Wzw",l.a.render(r.a.createElement("div",null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.bce7b12e.chunk.js.map